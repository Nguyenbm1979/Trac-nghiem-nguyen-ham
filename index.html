<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ng√¢n H√†ng ƒê·ªÅ Thi Tr·ª±c Tuy·∫øn</title>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background: #f0f2f5; margin: 0; padding: 20px; }
        .container { max-width: 1000px; margin: 0 auto; }
        h1 { text-align: center; color: #00796b; margin-bottom: 30px; text-transform: uppercase; }
        
        /* B·ªò L·ªåC */
        .filter-bar { background: white; padding: 15px; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.05); display: flex; gap: 10px; margin-bottom: 20px; flex-wrap: wrap; }
        select { padding: 12px; border: 1px solid #ddd; border-radius: 8px; flex: 1; min-width: 150px; font-size: 16px; outline: none; }
        select:focus { border-color: #009688; }
        
        /* GRID DANH S√ÅCH */
        .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 25px; }
        .card { background: white; border-radius: 12px; padding: 20px; box-shadow: 0 4px 10px rgba(0,0,0,0.05); transition: 0.3s; border-top: 5px solid #ddd; display: flex; flex-direction: column; }
        .card:hover { transform: translateY(-5px); box-shadow: 0 10px 20px rgba(0,0,0,0.1); }
        
        /* M√ÄU S·∫ÆC THEO M√îN */
        .Sub-Toan { border-color: #1976d2; } .Tag-Toan { background: #e3f2fd; color: #1976d2; }
        .Sub-Ly { border-color: #7b1fa2; } .Tag-Ly { background: #f3e5f5; color: #7b1fa2; }
        .Sub-Hoa { border-color: #c2185b; } .Tag-Hoa { background: #fce4ec; color: #c2185b; }
        .Sub-Su { border-color: #e64a19; } .Tag-Su { background: #fbe9e7; color: #e64a19; }
        .Sub-Dia { border-color: #00796b; } .Tag-Dia { background: #e0f2f1; color: #00796b; }
        .Sub-Anh { border-color: #303f9f; } .Tag-Anh { background: #e8eaf6; color: #303f9f; }

        .card h3 { margin: 15px 0; font-size: 1.2em; color: #333; line-height: 1.4; flex-grow: 1; }
        .info { font-size: 0.9em; color: #666; display: flex; justify-content: space-between; margin-bottom: 20px; background: #f8f9fa; padding: 10px; border-radius: 6px; }
        .tag { padding: 5px 10px; border-radius: 6px; font-size: 12px; font-weight: bold; text-transform: uppercase; }
        .btn { display: block; width: 100%; padding: 12px; background: #009688; color: white; text-align: center; border-radius: 8px; text-decoration: none; font-weight: bold; transition: 0.2s; }
        .btn:hover { background: #00796b; box-shadow: 0 4px 10px rgba(0,150,136,0.3); }
    </style>
</head>
<body>

<div class="container">
    <h1>üìö NG√ÇN H√ÄNG ƒê·ªÄ THI TR·ª∞C TUY·∫æN</h1>
    
    <div class="filter-bar">
        <select id="f-subject" onchange="renderExams()">
            <option value="all">-- T·∫•t c·∫£ c√°c m√¥n --</option>
            <option value="Toan">To√°n H·ªçc</option>
            <option value="Ly">V·∫≠t L√Ω</option>
            <option value="Hoa">H√≥a H·ªçc</option>
            <option value="Sinh">Sinh H·ªçc</option>
            <option value="Su">L·ªãch S·ª≠</option>
            <option value="Dia">ƒê·ªãa L√Ω</option>
            <option value="Anh">Ti·∫øng Anh</option>
            <option value="GDCD">GDCD</option>
        </select>
        <select id="f-grade" onchange="renderExams()">
            <option value="all">-- T·∫•t c·∫£ c√°c kh·ªëi --</option>
            <option value="12">L·ªõp 12</option>
            <option value="11">L·ªõp 11</option>
            <option value="10">L·ªõp 10</option>
            <option value="12OT">√în Thi THPT</option>
        </select>
    </div>

    <div id="exam-grid" class="grid">ƒêang t·∫£i danh s√°ch ƒë·ªÅ thi...</div>
</div>

<script>
    // √âp bu·ªôc t·∫£i l·∫°i file list.js m·ªõi nh·∫•t t·ª´ GitHub ƒë·ªÉ tr√°nh l∆∞u cache c≈©
    const script = document.createElement('script');
    script.src = "data/list.js?v=" + new Date().getTime();
    document.head.appendChild(script);

    script.onload = function() {
        renderExams();
    };

    function renderExams() {
        const container = document.getElementById('exam-grid');
        const subFilter = document.getElementById('f-subject').value;
        const gradeFilter = document.getElementById('f-grade').value;
        
        if (!window.EXAM_LIST || window.EXAM_LIST.length === 0) {
            container.innerHTML = "<p style='text-align:center; width:100%; color:#666;'>Ch∆∞a c√≥ ƒë·ªÅ thi n√†o trong danh s√°ch.</p>";
            return;
        }

        let html = '';
        let hasContent = false;

        // Hi·ªÉn th·ªã ƒë·ªÅ m·ªõi nh·∫•t l√™n ƒë·∫ßu (ƒë·∫£o ng∆∞·ª£c m·∫£ng)
        const displayList = [...window.EXAM_LIST].reverse();

        displayList.forEach(ex => {
            if (subFilter !== 'all' && ex.subject !== subFilter) return;
            if (gradeFilter !== 'all' && ex.grade !== gradeFilter) return;

            let subName = getSubName(ex.subject);
            let cssClass = `Sub-${ex.subject}`;
            let tagClass = `Tag-${ex.subject}`;

            html += `
            <div class="card ${cssClass}">
                <div style="display:flex; justify-content:space-between; align-items:center;">
                    <span class="tag ${tagClass}">${subName}</span>
                    <span class="tag" style="background:#eee; color:#555">Kh·ªëi ${ex.grade}</span>
                </div>
                <h3>${ex.title}</h3>
                <div class="info">
                    <span>‚è≥ ${ex.time} ph√∫t</span>
                    <span>üÜî ${ex.id}</span>
                </div>
                <a href="thi.html?id=${ex.id}" class="btn">V√ÄO THI NGAY</a>
            </div>`;
            hasContent = true;
        });

        container.innerHTML = hasContent ? html : "<p style='text-align:center; width:100%; color:#666;'>Kh√¥ng t√¨m th·∫•y ƒë·ªÅ thi n√†o ph√π h·ª£p v·ªõi b·ªô l·ªçc.</p>";
    }

    function getSubName(code) {
        const map = { 'Toan':'To√°n', 'Ly':'V·∫≠t L√Ω', 'Hoa':'H√≥a H·ªçc', 'Sinh':'Sinh H·ªçc', 'Su':'L·ªãch S·ª≠', 'Dia':'ƒê·ªãa L√Ω', 'Anh':'Ti·∫øng Anh', 'GDCD':'GDCD' };
        return map[code] || code;
    }
</script>

</body>
</html>
